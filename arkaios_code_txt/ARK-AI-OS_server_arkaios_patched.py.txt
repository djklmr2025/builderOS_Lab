ORIGINAL FILE: ARK-AI-OS/server_arkaios_patched.py
--- BEGIN CONTENT ---
# server_arkaios_patched.py  â€” sirve arkios-core.html + estÃ¡ticos y health
from flask import Flask, send_from_directory, jsonify
from pathlib import Path
import os

APP_DIR = Path(__file__).parent.resolve()
STATIC_DIR = APP_DIR  # misma carpeta que arkios-core.html y arkaios-worker.js

app = Flask(__name__, static_folder=str(STATIC_DIR), static_url_path="")

@app.get("/")
def home():
    # Sirve la UI principal
    return send_from_directory(STATIC_DIR, "arkios-core.html")

@app.get("/health")
def health():
    return jsonify({"ok": True, "name": "ARKAIOS static server", "status": "ready"})

# Resto de archivos estÃ¡ticos (worker, imÃ¡genes, etc.) los sirve Flask por static_url_path

if __name__ == "__main__":
    port = int(os.getenv("PORT", "5000"))
    print(f"ðŸš€ ARKAIOS static server on http://127.0.0.1:{port}")
    app.run(host="127.0.0.1", port=port, debug=False)
--- END CONTENT ---
